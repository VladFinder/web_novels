(()=>{"use strict";var e={253:(e,t,n)=>{e.exports=n.p+"img/–†–∞–∑–¥—Ä–∞–∂–µ–Ω–∏–µ.800c2a94.png"},473:(e,t,n)=>{var o=n(130),r=n(768);const a={id:"app"};function s(e,t,n,o,s,i){const c=(0,r.g2)("LoadingScreen"),l=(0,r.g2)("EmotionSelect"),m=(0,r.g2)("MainScreen"),d=(0,r.g2)("CalendarScreen");return(0,r.uX)(),(0,r.CE)("div",a,["loading"===s.currentScreen?((0,r.uX)(),(0,r.Wv)(c,{key:0})):"emotion"===s.currentScreen?((0,r.uX)(),(0,r.Wv)(l,{key:1,onEmotionSelected:i.handleEmotionSelect,onNavigate:i.handleNavigate},null,8,["onEmotionSelected","onNavigate"])):"main"===s.currentScreen?((0,r.uX)(),(0,r.Wv)(m,{key:2,onOpenSettings:i.openSettings,onOpenCalendar:i.openCalendar},null,8,["onOpenSettings","onOpenCalendar"])):"calendar"===s.currentScreen?((0,r.uX)(),(0,r.Wv)(d,{key:3,onBack:i.backToMain},null,8,["onBack"])):(0,r.Q3)("",!0)])}const i=n.p+"img/logo.ff1a5e98.png",c={class:"loading-screen"};function l(e,t,n,o,a,s){return(0,r.uX)(),(0,r.CE)("div",c,t[0]||(t[0]=[(0,r.Lk)("div",{class:"loading-content"},[(0,r.Lk)("img",{src:i,alt:"Logo",class:"logo"}),(0,r.Lk)("p",{class:"loading-text"},"–ó–∞–≥—Ä—É–∑–∫–∞...")],-1)]))}const m={name:"LoadingScreen"};var d=n(241);const g=(0,d.A)(m,[["render",l],["__scopeId","data-v-4f683444"]]),h=g;var u=n(232);const p={key:0,class:"emotion-select"},w={class:"glass-container"},y={key:0,class:"loading-overlay"},f={class:"emotions-grid"},S=["onClick"],k=["src","alt"],v={class:"emotion-name"},E={key:1,class:"emotion-already-selected"},b={class:"selected-emotion-card"},I={class:"selected-emotion"},L=["src","alt"],C={class:"emotion-name"},T={class:"buttons-container"};function M(e,t,n,o,a,s){return a.emotionAlreadySelected?((0,r.uX)(),(0,r.CE)("div",E,[(0,r.Lk)("div",b,[t[4]||(t[4]=(0,r.Lk)("h2",null,"–°–µ–≥–æ–¥–Ω—è —Ç—ã —É–∂–µ –≤—ã–±—Ä–∞–ª —ç–º–æ—Ü–∏—é",-1)),(0,r.Lk)("div",I,[(0,r.Lk)("img",{src:s.getSelectedEmotionIcon(),alt:s.getSelectedEmotionName(),class:"emotion-icon-large"},null,8,L),(0,r.Lk)("p",C,(0,u.v_)(s.getSelectedEmotionName()),1)]),t[5]||(t[5]=(0,r.Lk)("p",{class:"message"},"–ó–∞–≤—Ç—Ä–∞ —Å–º–æ–∂–µ—à—å –≤—ã–±—Ä–∞—Ç—å –Ω–æ–≤—É—é —ç–º–æ—Ü–∏—é!",-1)),(0,r.Lk)("div",T,[(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>s.goToCalendar&&s.goToCalendar(...e)),class:"calendar-btn"},"–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞–ª–µ–Ω–¥–∞—Ä—å"),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>s.goToMain&&s.goToMain(...e)),class:"close-btn"},"–ó–∞–∫—Ä—ã—Ç—å")])])])):((0,r.uX)(),(0,r.CE)("div",p,[t[3]||(t[3]=(0,r.Lk)("h1",{class:"title"},"–ö–∞–∫ —Ç—ã —Å–µ–±—è —á—É–≤—Å—Ç–≤—É–µ—à—å?",-1)),(0,r.Lk)("div",w,[a.isLoading?((0,r.uX)(),(0,r.CE)("div",y,t[2]||(t[2]=[(0,r.Lk)("div",{class:"loading-spinner"},null,-1),(0,r.Lk)("p",null,"–°–æ—Ö—Ä–∞–Ω—è–µ–º —ç–º–æ—Ü–∏—é...",-1)]))):(0,r.Q3)("",!0),(0,r.Lk)("div",f,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.emotions,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e.id,class:(0,u.C4)(["emotion-item",{disabled:a.isLoading}]),onClick:t=>s.selectEmotion(e.id)},[(0,r.Lk)("img",{src:e.icon,alt:e.name},null,8,k),(0,r.Lk)("span",v,(0,u.v_)(e.name),1)],10,S)))),128))])])]))}class U{constructor(){this.apiUrl="https://ikiteam.ru/api",this.userId=null}getApiUrl(){return this.apiUrl}async saveEmotion(e,{emotion:t,note:n,timestamp:o,username:r}){try{const a=this.getApiUrl();console.log("–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä:",`${a}/emotions`),console.log("–î–∞–Ω–Ω—ã–µ:",{telegramId:e,emotion:t,note:n,timestamp:o,username:r});const s=await fetch(`${a}/emotions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({telegramId:e,emotion:t,note:n,timestamp:o,username:r})});if(console.log("–ü–æ–ª—É—á–µ–Ω –æ—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞:",s.status,s.statusText),!s.ok){const e=await s.json();throw console.error("–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞:",e),new Error(e.error||`–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —ç–º–æ—Ü–∏–∏ (${s.status})`)}const i=await s.json();return console.log("–≠–º–æ—Ü–∏—è —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:",i),i}catch(a){if(console.error("–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —ç–º–æ—Ü–∏–∏:",a),"TypeError"===a.name&&a.message.includes("fetch"))throw new Error("–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.");throw a}}async getUserEmotions(e,t,n){try{const o=this.getApiUrl(),r=new URLSearchParams({telegramId:String(e),startDate:t.toISOString(),endDate:n.toISOString()}),a=await fetch(`${o}/emotions?${r}`);if(!a.ok){const e=await a.json();throw new Error(e.error||"–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —ç–º–æ—Ü–∏–π")}return await a.json()}catch(o){throw console.error("–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —ç–º–æ—Ü–∏–π:",o),o}}async getEmotionByDate(e,t){try{const n=this.getApiUrl(),o=new Date(t).toISOString().split("T")[0],r=await fetch(`${n}/emotions/${e}/${o}`);if(!r.ok){if(404===r.status)return null;const e=await r.json();throw new Error(e.error||"–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —ç–º–æ—Ü–∏–∏")}return await r.json()}catch(n){return console.error("–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —ç–º–æ—Ü–∏–∏ –ø–æ –¥–∞—Ç–µ:",n),null}}async hasEmotionToday(e){try{const t=this.getApiUrl(),n=await fetch(`${t}/emotions/today/${e}`);if(!n.ok){const e=await n.json();throw new Error(e.error||"–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —ç–º–æ—Ü–∏–∏")}const o=await n.json();return o.hasEmotion}catch(t){return console.error("–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ —ç–º–æ—Ü–∏–∏ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è:",t),!1}}async updateNote(e,t,n){try{const o=this.getApiUrl(),r=await fetch(`${o}/emotions/note`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({telegramId:e,date:t,note:n})});if(!r.ok){const e=await r.json();throw new Error(e.error||"–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–º–µ—Ç–∫–∏")}const a=await r.json();return console.log("–ó–∞–º–µ—Ç–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:",a),a}catch(o){throw console.error("–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–º–µ—Ç–∫–∏:",o),o}}async getEmotionStats(e,t,n){try{const o=this.getApiUrl(),r=new URLSearchParams({startDate:t.toISOString(),endDate:n.toISOString()}),a=await fetch(`${o}/emotions/stats/${e}?${r}`);if(!a.ok){const e=await a.json();throw new Error(e.error||"–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏")}return await a.json()}catch(o){throw console.error("–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:",o),o}}async exportUserData(e){try{const t=this.getApiUrl(),n=await fetch(`${t}/export/${e}`);if(!n.ok){const e=await n.json();throw new Error(e.error||"–û—à–∏–±–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö")}return await n.json()}catch(t){throw console.error("–û—à–∏–±–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö:",t),t}}async importUserData(e,t){try{const n=this.getApiUrl(),o=await fetch(`${n}/import/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!o.ok){const e=await o.json();throw new Error(e.error||"–û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö")}return await o.json()}catch(n){throw console.error("–û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö:",n),n}}async saveThought(e,t,n=null){try{const o=this.getApiUrl(),r=await fetch(`${o}/thoughts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({telegramId:e,thought:t,date:n,timestamp:(new Date).toISOString()})});if(!r.ok){const e=await r.json();throw new Error(e.error||"–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –º—ã—Å–ª–∏")}const a=await r.json();return console.log("–ú—ã—Å–ª—å —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞:",a),a}catch(o){throw console.error("–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –º—ã—Å–ª–∏:",o),o}}async getUserThoughts(e,t,n){try{const o=this.getApiUrl(),r=new URLSearchParams({telegramId:String(e),startDate:t.toISOString(),endDate:n.toISOString()}),a=await fetch(`${o}/thoughts?${r}`);if(!a.ok){const e=await a.json();throw new Error(e.error||"–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –º—ã—Å–ª–µ–π")}return await a.json()}catch(o){throw console.error("–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –º—ã—Å–ª–µ–π:",o),o}}async getThoughtsByDate(e,t){try{const n=this.getApiUrl(),o=new Date(t).toISOString().split("T")[0],r=await fetch(`${n}/thoughts/${e}/${o}`);if(!r.ok){if(404===r.status)return[];const e=await r.json();throw new Error(e.error||"–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –º—ã—Å–ª–µ–π")}return await r.json()}catch(n){return console.error("–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –º—ã—Å–ª–µ–π –ø–æ –¥–∞—Ç–µ:",n),[]}}}const D=new U,O=window.Telegram?.WebApp,j=()=>O?.initDataUnsafe?.user?.id,$={name:"EmotionSelect",data(){return{telegramId:null,telegramUsername:null,isLoading:!1,emotionAlreadySelected:!1,selectedEmotion:null,emotions:[{id:1,name:"–†–∞–¥–æ—Å—Ç–Ω–æ",icon:n(562)},{id:2,name:"–ì—Ä—É—Å—Ç–Ω–æ",icon:n(644)},{id:3,name:"–°–ø–æ–∫–æ–π–Ω–æ",icon:n(693)},{id:4,name:"–¢—Ä–µ–≤–æ–∂–Ω–æ",icon:n(485)},{id:5,name:"–†–∞–∑–¥—Ä–∞–∂—ë–Ω–Ω–æ",icon:n(253)},{id:6,name:"–ú–µ—á—Ç–∞—Ç–µ–ª—å–Ω–æ",icon:n(815)}]}},async mounted(){if(console.log("üîç EmotionSelect mounted"),console.log("üîç Telegram WebApp:",window.Telegram?.WebApp),console.log("üîç Telegram user:",window.Telegram?.WebApp?.initDataUnsafe?.user),this.telegramId=j(),this.telegramUsername=this.getTelegramUsername(),console.log("üîç Telegram ID:",this.telegramId),console.log("üîç Telegram Username:",this.telegramUsername),this.telegramId||(console.warn("‚ö†Ô∏è Telegram ID not found"),this.telegramId="debug_user_"+Date.now(),console.log("üîç Using debug Telegram ID:",this.telegramId)),console.log("üîç Checking if emotion already selected for today..."),this.emotionAlreadySelected=await D.hasEmotionToday(this.telegramId),console.log("üîç Emotion already selected:",this.emotionAlreadySelected),this.emotionAlreadySelected){const e=(new Date).toISOString().split("T")[0];this.selectedEmotion=await D.getEmotionByDate(this.telegramId,e),console.log("üîç Selected emotion:",this.selectedEmotion)}},methods:{getTelegramUsername(){return window.Telegram?.WebApp?.initDataUnsafe?.user?.username||window.Telegram?.WebApp?.initDataUnsafe?.user?.first_name||"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å"},async selectEmotion(e){if(console.log("üîç selectEmotion called with id:",e),console.log("üîç Current state:",{isLoading:this.isLoading,telegramId:this.telegramId,telegramUsername:this.telegramUsername}),this.isLoading)console.log("üîç Already loading, ignoring click");else{this.isLoading=!0,console.log("üîç Set loading to true");try{let t=j();console.log("üîç Got Telegram ID from function:",t),t||(console.warn("‚ö†Ô∏è Telegram ID not found in function"),t=this.telegramId,console.log("üîç Using Telegram ID from component:",t));const n="",o=(new Date).toISOString(),r={telegramId:t,telegramUsername:this.telegramUsername,emotion:e,note:n,timestamp:o};console.log("üîç Saving emotion data:",r);const a=await D.saveEmotion(t,{emotion:e,note:n,timestamp:o,username:this.telegramUsername});console.log("‚úÖ Emotion successfully saved:",a),this.emotionAlreadySelected=!0,this.selectedEmotion={emotion:e,note:n,timestamp:o,username:this.telegramUsername},this.$emit("emotion-selected",e)}catch(t){if(console.error("‚ùå Error saving emotion:",t),console.error("‚ùå Error details:",{name:t.name,message:t.message,stack:t.stack}),t.message.includes("–≠–º–æ—Ü–∏—è –Ω–∞ —Å–µ–≥–æ–¥–Ω—è —É–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞")){console.log("üîç Emotion already saved, updating component state"),this.emotionAlreadySelected=!0;const e=(new Date).toISOString().split("T")[0];this.selectedEmotion=await D.getEmotionByDate(telegramId,e),alert("–≠–º–æ—Ü–∏—è –Ω–∞ —Å–µ–≥–æ–¥–Ω—è —É–∂–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞. –ó–∞–≤—Ç—Ä–∞ —Å–º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –Ω–æ–≤—É—é —ç–º–æ—Ü–∏—é!")}else alert(`–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —ç–º–æ—Ü–∏–∏: ${t.message}`)}finally{console.log("üîç Set loading to false"),this.isLoading=!1}}},getSelectedEmotionIcon(){if(!this.selectedEmotion)return"";const e=this.emotions.find((e=>e.id===this.selectedEmotion.emotion));return e?e.icon:""},getSelectedEmotionName(){if(!this.selectedEmotion)return"";const e=this.emotions.find((e=>e.id===this.selectedEmotion.emotion));return e?e.name:""},goToCalendar(){this.$emit("navigate","calendar")},goToMain(){this.$emit("navigate","main")}}},A=(0,d.A)($,[["render",M],["__scopeId","data-v-2cdd8360"]]),x=A,X=n.p+"img/soul.f8a4fa77.png",_={class:"main-screen"},N={key:0,class:"user-login"},W={class:"buttons-row"};function Y(e,t,n,o,a,s){return(0,r.uX)(),(0,r.CE)("div",_,[a.username?((0,r.uX)(),(0,r.CE)("div",N," –ü—Ä–∏–≤–µ—Ç, @"+(0,u.v_)(a.username)+"! ",1)):(0,r.Q3)("",!0),(0,r.Lk)("button",{class:"settings-btn",onClick:t[0]||(t[0]=t=>e.$emit("open-settings"))}),t[3]||(t[3]=(0,r.Lk)("div",{class:"glass-container"},[(0,r.Lk)("span",{class:"soul-text"},[(0,r.eW)(" –¢—ã –Ω–µ —Ç—ã, –∫–æ–≥–¥–∞"),(0,r.Lk)("br"),(0,r.eW)("–≥–æ–ª–æ–¥–µ–Ω ")])],-1)),t[4]||(t[4]=(0,r.Lk)("div",{class:"soul-image"},[(0,r.Lk)("img",{src:X,alt:"Soul"})],-1)),(0,r.Lk)("div",W,[(0,r.Lk)("button",{class:"btn calendar",onClick:t[1]||(t[1]=t=>e.$emit("open-calendar"))}," –ö–∞–ª–µ–Ω–¥–∞—Ä—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è "),t[2]||(t[2]=(0,r.Lk)("button",{class:"btn stories",disabled:""}," –°–∫–æ—Ä–æ —Ç—É—Ç –±—É–¥—É—Ç –∏—Å—Ç–æ—Ä–∏–∏ ",-1))])])}var P=n(400),B=n(617);const F={apiKey:"AIzaSyA45HVlArfrCX12RzClqX8yvPWQDjx97iM",authDomain:"iki-nowels.firebaseapp.com",projectId:"iki-nowels",storageBucket:"iki-nowels.firebasestorage.app",messagingSenderId:"1064173724655",appId:"1:1064173724655:web:7292b8b03bf0fe7708cc1a",measurementId:"G-MZD8G11D0Y"},J=(0,P.Wp)(F),K=(0,B.aU)(J),R="https://ikiteam.ru/api",Q={async saveUser(e){try{const t=await fetch(`${R}/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({telegramId:e})});return t.json()}catch(t){throw console.error("Error saving user:",t),t}},async saveEmotion(e,{emotion:t,note:n,timestamp:o}){return fetch(`${R}/emotions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({telegramId:e,emotion:t,note:n,timestamp:o})})},async getUserEmotions(e,t,n){const o=new URLSearchParams({telegramId:e,startDate:t.toISOString(),endDate:n.toISOString()}),r=await fetch(`${R}/emotions?${o}`);return await r.json()},async getUser(e){const t=await fetch(`${R}/users/${e}`);if(!t.ok)throw new Error("User not found");return await t.json()},async saveEmotion(e,t){await K.collection("users").doc(String(e)).collection("emotions").add(t)}},G={name:"MainScreen",data(){return{username:null}},async mounted(){const e=j();if(e)try{const t=await Q.getUser(e);t&&t.login&&(this.username=t.login)}catch(t){console.error("–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –ª–æ–≥–∏–Ω–∞:",t)}}},z=(0,d.A)(G,[["render",Y],["__scopeId","data-v-5a4b4d91"]]),V=z,q={class:"calendar-header"},H=["disabled"],Z={class:"month-title"},ee=["disabled"],te={class:"calendar-grid"};function ne(e,t,n,a,s,i){return(0,r.uX)(),(0,r.CE)("div",{class:"calendar-screen",onClick:t[6]||(t[6]=(...e)=>i.blurInput&&i.blurInput(...e))},[(0,r.Lk)("button",{class:"back-btn",onClick:t[0]||(t[0]=t=>e.$emit("back"))},"–ù–∞–∑–∞–¥"),(0,r.Lk)("div",q,[(0,r.Lk)("button",{class:"nav-btn",onClick:t[1]||(t[1]=(...e)=>i.prevMonth&&i.prevMonth(...e)),disabled:i.isMinMonth},"<",8,H),(0,r.Lk)("span",Z,(0,u.v_)(i.monthName)+" "+(0,u.v_)(s.currentYear),1),(0,r.Lk)("button",{class:"nav-btn",onClick:t[2]||(t[2]=(...e)=>i.nextMonth&&i.nextMonth(...e)),disabled:i.isMaxMonth},">",8,ee)]),(0,r.Lk)("div",te,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.weekDays,(e=>((0,r.uX)(),(0,r.CE)("div",{class:"calendar-day calendar-day-header",key:e},(0,u.v_)(e),1)))),128)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.firstDayOfWeek,(e=>((0,r.uX)(),(0,r.CE)("div",{key:"empty-"+e,class:"calendar-day empty"})))),128)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.daysInMonth,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e,class:"calendar-day"},(0,u.v_)(e),1)))),128))]),(0,r.Lk)("div",{class:"note-container",onClick:t[5]||(t[5]=(0,o.D$)((()=>{}),["stop"]))},[(0,r.bo)((0,r.Lk)("textarea",{class:"note-input","onUpdate:modelValue":t[3]||(t[3]=e=>s.note=e),placeholder:"–ù–∞–ø–∏—à–µ—à—å –ø–∞—Ä—É —Å–ª–æ–≤ –æ —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–º –¥–Ω–µ?",rows:"3",ref:"noteInput",onBlur:t[4]||(t[4]=(...e)=>i.onBlur&&i.onBlur(...e))},null,544),[[o.Jo,s.note]])])])}const oe=2025,re=5,ae=1,se={name:"CalendarScreen",data(){const e=new Date,t=re,n=oe,o=e.getMonth(),r=e.getFullYear();return{currentMonth:o,currentYear:r,minMonth:t,minYear:n,weekDays:["–ü–Ω","–í—Ç","–°—Ä","–ß—Ç","–ü—Ç","–°–±","–í—Å"],note:"",isInputFocused:!1}},computed:{monthName(){return["–Ø–Ω–≤–∞—Ä—å","–§–µ–≤—Ä–∞–ª—å","–ú–∞—Ä—Ç","–ê–ø—Ä–µ–ª—å","–ú–∞–π","–ò—é–Ω—å","–ò—é–ª—å","–ê–≤–≥—É—Å—Ç","–°–µ–Ω—Ç—è–±—Ä—å","–û–∫—Ç—è–±—Ä—å","–ù–æ—è–±—Ä—å","–î–µ–∫–∞–±—Ä—å"][this.currentMonth]},daysInMonth(){const e=new Date(this.currentYear,this.currentMonth+1,0).getDate();return this.currentYear===oe&&this.currentMonth===re?Array.from({length:e-ae+1},((e,t)=>t+ae)):Array.from({length:e},((e,t)=>t+1))},firstDayOfWeek(){let e=new Date(this.currentYear,this.currentMonth,this.currentYear===oe&&this.currentMonth===re?ae:1).getDay();return e=(e+6)%7,e},isMinMonth(){return this.currentYear===this.minYear&&this.currentMonth===this.minMonth},isMaxMonth(){const e=new Date;return this.currentYear===e.getFullYear()&&this.currentMonth===e.getMonth()}},methods:{prevMonth(){this.isMinMonth||(0===this.currentMonth?(this.currentMonth=11,this.currentYear--):this.currentMonth--)},nextMonth(){this.isMaxMonth||(11===this.currentMonth?(this.currentMonth=0,this.currentYear++):this.currentMonth++)},blurInput(){this.isInputFocused&&this.$refs.noteInput.blur()},onBlur(){this.isInputFocused=!1}},watch:{note(){}}},ie=(0,d.A)(se,[["render",ne],["__scopeId","data-v-d0d29410"]]),ce=ie,le={name:"App",components:{LoadingScreen:h,EmotionSelect:x,MainScreen:V,CalendarScreen:ce},data(){return{currentScreen:"loading",selectedEmotion:null,showSettings:!1}},methods:{handleEmotionSelect(e){this.selectedEmotion=e,this.currentScreen="main"},handleNavigate(e){this.currentScreen=e},openSettings(){this.showSettings=!0},openCalendar(){this.currentScreen="calendar"},backToMain(){this.currentScreen="main"}},mounted(){setTimeout((()=>{this.currentScreen="emotion"}),2e3)}},me=(0,d.A)(le,[["render",s]]),de=me;(0,o.Ef)(de).mount("#app")},485:(e,t,n)=>{e.exports=n.p+"img/–¢—Ä–µ–≤–æ–≥–∞.cb2b7443.png"},562:(e,t,n)=>{e.exports=n.p+"img/–†–∞–¥–æ—Å—Ç—å.225d89ef.png"},644:(e,t,n)=>{e.exports=n.p+"img/–ì—Ä—É—Å—Ç—å.cba9a168.png"},693:(e,t,n)=>{e.exports=n.p+"img/–°–ø–æ–∫–æ–π–Ω–æ.b1a2b402.png"},815:(e,t,n)=>{e.exports=n.p+"img/–ú–µ—á—Ç–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å.a6e023e0.png"}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.m=e,(()=>{var e=[];n.O=(t,o,r,a)=>{if(!o){var s=1/0;for(m=0;m<e.length;m++){for(var[o,r,a]=e[m],i=!0,c=0;c<o.length;c++)(!1&a||s>=a)&&Object.keys(n.O).every((e=>n.O[e](o[c])))?o.splice(c--,1):(i=!1,a<s&&(s=a));if(i){e.splice(m--,1);var l=r();void 0!==l&&(t=l)}}return t}a=a||0;for(var m=e.length;m>0&&e[m-1][2]>a;m--)e[m]=e[m-1];e[m]=[o,r,a]}})(),(()=>{n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{n.p="/"})(),(()=>{var e={524:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var r,a,[s,i,c]=o,l=0;if(s.some((t=>0!==e[t]))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(c)var m=c(n)}for(t&&t(o);l<s.length;l++)a=s[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(m)},o=self["webpackChunkweb_novels"]=self["webpackChunkweb_novels"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=n.O(void 0,[504],(()=>n(473)));o=n.O(o)})();
//# sourceMappingURL=app.bd0aa83f81c718f0.js.map